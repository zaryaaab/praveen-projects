<div class="auth-container">
  <mat-card class="auth-card">
    <mat-card-header>
      <div class="logo-container">
        <mat-icon class="logo-icon">favorite</mat-icon>
      </div>
      <mat-card-title>Create an Account</mat-card-title>
      <mat-card-subtitle>Enter your information to create your FitBuddy account</mat-card-subtitle>
    </mat-card-header>
    
    <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
      <mat-card-content>
        <!-- Step 1: Existing Fields -->
        <div *ngIf="currentStep === 1">
          <div class="form-field">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Full Name</mat-label>
              <input matInput formControlName="name" placeholder="John Doe" required>
              <mat-error *ngIf="signupForm.get('name')?.hasError('required')">
                Name is required
              </mat-error>
            </mat-form-field>
          </div>
          
          <div class="form-field">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Email</mat-label>
              <input matInput type="email" formControlName="email" placeholder="your.email@college.edu" required>
              <mat-error *ngIf="signupForm.get('email')?.hasError('required')">
                Email is required
              </mat-error>
              <mat-error *ngIf="signupForm.get('email')?.hasError('email')">
                Please enter a valid email address
              </mat-error>
            </mat-form-field>
          </div>
          
          <div class="form-field">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>College/University</mat-label>
              <mat-select formControlName="college" required>
                <mat-option *ngFor="let college of colleges" [value]="college.value">
                  {{college.viewValue}}
                </mat-option>
              </mat-select>
              <mat-error *ngIf="signupForm.get('college')?.hasError('required')">
                College is required
              </mat-error>
            </mat-form-field>
          </div>
          
          <div class="form-field">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Password</mat-label>
              <input matInput type="password" formControlName="password" required>
              <mat-error *ngIf="signupForm.get('password')?.hasError('required')">
                Password is required
              </mat-error>
              <mat-error *ngIf="signupForm.get('password')?.hasError('minlength')">
                Password must be at least 6 characters
              </mat-error>
            </mat-form-field>
          </div>
          
          <div class="form-field">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Confirm Password</mat-label>
              <input matInput type="password" formControlName="confirmPassword" required>
              <mat-error *ngIf="signupForm.get('confirmPassword')?.hasError('required')">
                Please confirm your password
              </mat-error>
              <mat-error *ngIf="signupForm.hasError('notMatching')">
                Passwords do not match
              </mat-error>
            </mat-form-field>
          </div>
        </div>
        
        <!-- Step 2: New Fields -->
        <div *ngIf="currentStep === 2">
          <div class="form-field">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Weight</mat-label>
              <input matInput type="number" formControlName="weight" placeholder="Weight in kg" required>
              <mat-error *ngIf="signupForm.get('weight')?.hasError('required')">
                Weight is required
              </mat-error>
            </mat-form-field>
          </div>
          
          <div class="form-field">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Height</mat-label>
              <input matInput type="number" formControlName="height" placeholder="Height in cm" required>
              <mat-error *ngIf="signupForm.get('height')?.hasError('required')">
                Height is required
              </mat-error>
            </mat-form-field>
          </div>
          
          <div class="form-field">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Goal</mat-label>
              <mat-select formControlName="goal" required>
                <mat-option value="Lose Weight">Lose Weight</mat-option>
                <mat-option value="Gain Muscle">Gain Muscle</mat-option>
                <mat-option value="Maintain">Maintain</mat-option>
              </mat-select>
              <mat-error *ngIf="signupForm.get('goal')?.hasError('required')">
                Goal is required
              </mat-error>
            </mat-form-field>
          </div>
        </div>
      </mat-card-content>
      
      <mat-card-actions>
        <button mat-raised-button color="primary" type="button" class="full-width-button" (click)="nextStep()" [disabled]="signupForm.invalid">
          {{ currentStep === 1 ? 'Next' : 'Create Account' }}
        </button>
        
        <div class="login-link">
          Already have an account?
          <a routerLink="/login">Sign in</a>
        </div>
      </mat-card-actions>
    </form>
  </mat-card>
</div>

