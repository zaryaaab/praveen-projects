<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
</head>
<body>
    <!-- Sidebar Fragment -->
    <nav th:fragment="sidebar" class="col-md-3 col-lg-2 d-md-block sidebar collapse">
        <div class="position-sticky pt-3">
            <div class="text-center mb-4">
                <h5 class="text-white">
                    <i class="fas fa-users me-2"></i>
                    ClubHub
                </h5>
            </div>
            
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/dashboard}">
                        <i class="fas fa-tachometer-alt me-2"></i>
                        Dashboard
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/profile}">
                        <i class="fas fa-user me-2"></i>
                        Profile
                    </a>
                </li>
                
                <!-- Common Navigation -->
                <hr class="my-3" style="border-color: rgba(255,255,255,0.3);">
                <h6 class="sidebar-heading text-white-50 text-uppercase px-3 mb-2">
                    <span>General</span>
                </h6>
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/clubs}">
                        <i class="fas fa-building me-2"></i>
                        Clubs
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/events}">
                        <i class="fas fa-calendar me-2"></i>
                        Events
                    </a>
                </li>
                
                <!-- Student specific -->
                <div sec:authorize="hasRole('STUDENT')">
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/membership/my-clubs}">
                            <i class="fas fa-heart me-2"></i>
                            My Clubs
                        </a>
                    </li>
                </div>
                
                <!-- System Admin only -->
                <div sec:authorize="hasRole('SYSTEM_ADMIN')">
                    <hr class="my-3" style="border-color: rgba(255,255,255,0.3);">
                    <h6 class="sidebar-heading text-white-50 text-uppercase px-3 mb-2">
                        <span>Administration</span>
                    </h6>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/admin/users}">
                            <i class="fas fa-users-cog me-2"></i>
                            Manage Users
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/admin/clubs}">
                            <i class="fas fa-building me-2"></i>
                            Manage Clubs
                        </a>
                    </li>
                </div>
                
                <!-- Club Admin only -->
                <div sec:authorize="hasRole('CLUB_ADMIN')">
                    <hr class="my-3" style="border-color: rgba(255,255,255,0.3);">
                    <h6 class="sidebar-heading text-white-50 text-uppercase px-3 mb-2">
                        <span>Club Management</span>
                    </h6>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/club-admin/dashboard}">
                            <i class="fas fa-tachometer-alt me-2"></i>
                            Club Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/club-admin/events}">
                            <i class="fas fa-calendar-alt me-2"></i>
                            Manage Events
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/membership/requests}">
                            <i class="fas fa-user-plus me-2"></i>
                            Membership Requests
                        </a>
                    </li>
                </div>
            </ul>
            
            <!-- User Info -->
            <div class="mt-auto pt-3 border-top" style="border-color: rgba(255,255,255,0.3) !important;">
                <div class="text-center mb-3">
                    <small class="text-white-50">
                        Logged in as<br>
                        <span class="text-white" sec:authentication="name">User</span>
                    </small>
                </div>
                
                <!-- Logout -->
                <form th:action="@{/logout}" method="post" class="d-inline w-100">
                    <button type="submit" class="btn btn-outline-light btn-sm w-100">
                        <i class="fas fa-sign-out-alt me-2"></i>
                        Logout
                    </button>
                </form>
            </div>
        </div>
    </nav>
</body>
</html> 